# .cnb.yml
# CNB å¹³å°é…ç½® - HX-SayBook TTS æ¨ç†æœåŠ¡
# æ”¯æŒé€‰æ‹©å¯åŠ¨ Index-TTS æˆ– LuxTTS å®¹å™¨
#
# é€‰é¡¹ 1: Index-TTS (ä¸­æ–‡ + æ—¥è¯­ï¼Œæ˜¾å­˜çº¦ 4GB)
# é€‰é¡¹ 2: LuxTTS / ZipVoice (è½»é‡ï¼Œæ˜¾å­˜çº¦ 1GBï¼Œ8å¹¶å‘)
$:
  vscode:
    # ========== é€‰é¡¹ 1: Index-TTSï¼ˆä¸­æ–‡ + æ—¥è¯­ï¼Œæ˜¾å­˜çº¦ 4GBï¼‰==========
    - name: "Index-TTS (ä¸­æ–‡+æ—¥è¯­)"
      docker:
        image: hengxin666/index-tts-2-ja:latest
      runner:
        tags: cnb:arch:amd64:gpu
      services:
        - vscode
        - docker
      env:
        CNB_WELCOME_CMD: |
          echo "ğŸ¤ Index-TTS æœåŠ¡å¯åŠ¨ä¸­..."
          bash start.sh
      stages:
        - name: start
          script: echo 'start'

    # ========== é€‰é¡¹ 2: LuxTTS / ZipVoiceï¼ˆè½»é‡ï¼Œæ˜¾å­˜çº¦ 1GBï¼Œ8å¹¶å‘ï¼‰==========
    - name: "LuxTTS è½»é‡ç‰ˆ (8å¹¶å‘, ~1GBæ˜¾å­˜)"
      docker:
        image: hengxin666/lux-tts:latest
      runner:
        tags: cnb:arch:amd64:gpu
      services:
        - vscode
        - docker
      env:
        LUX_TTS_WORKERS: "8"
        LUX_TTS_MODEL: "zipvoice"
        CNB_WELCOME_CMD: |
          echo "ğŸ¤ LuxTTS (ZipVoice) æœåŠ¡å¯åŠ¨ä¸­..."
          bash start_lux.sh
      stages:
        - name: start
          script: echo 'start'
